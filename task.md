## Техническое задание

### Проект: *Применение алгоритмов машинного обучения для анализа валютной пары KZT/USD*

---

### 1. Цель проекта

Разработать систему, которая:

* автоматически собирает данные о курсе валютной пары **KZT/USD**, соответствующие **новости за те же даты**, а также ключевые показатели, способные влиять на изменчивость курса;
* выполняет **анализ влияния новостного фона и ключевых показателей на курс** и **прогнозирует изменение курса на следующий день**;

---

### 2. Основная идея и новизна

В отличие от типичных моделей прогнозирования, использующих только временные ряды, в этом проекте вводится **гибридный подход**:
предсказание курса осуществляется с учетом как **исторических котировок**, так и **семантического анализа новостей** (sentiment analysis).
Это позволит учитывать не только математические тренды, но и реакцию рынка на экономические и политические события.

---

### 3. Источники данных

1. Для модели добавляем ключевой столбец "Дата" (с 01.01.2020 по сегодняшний день)

2. **Исторические курс пары KZT/USD:** 

   * Источник: [Национальный Банк РК](https://nationalbank.kz/ru/exchangerates/ezhednevnye-oficialnye-rynochnye-kursy-valyut) с выбранной датой (с, по), и чекбокском  в графе "1 ДОЛЛАР США"
   * Для модели добавляем столбцы: 
     - "KZT (1 USD)" из столбца "USD" из выгрузки
     - Рассчетный столбец "Изменчивость, %" - на основании изменения цены предыдщего дня к текущему ([Референс](https://ru.investing.com/currencies/usd-kzt-historical-data) - столбец "Изм.%")

3. **Новостные данные:**

   * Источник: [https://kapital.kz/news](https://kapital.kz/news) - парсим по страницам: "Лента новостей", "Экономика", "Финансы", "Государство", "Технологии", "Инвестиции", "Мир", "Бизнес", "Назначения"
   * Для модели добавляем столбцы: 
     - Заголовок статьи
     - Описание статьи

3. **График принятия решений по базовой ставке:**

   * Источник: [Национальный Банк РК](https://nationalbank.kz/ru/news/grafik-prinyatiya-resheniy-po-bazovoy-stavke/rubrics/2237) - парсим по страницам (каждый год вплоть до нашего начального) и вносим значения в модель в промежуток с "Дата установления базовой ставки" (включительно) столбец "Размер базовой ставки, %"
   * Для модели добавляем столбцы: 
     - Размер базовой ставки (%)

4. **Исторические курс пары KZT/RUB:** 

   * Источник: [Национальный Банк РК](https://nationalbank.kz/ru/exchangerates/ezhednevnye-oficialnye-rynochnye-kursy-valyut) с выбранной датой (с, по), и чекбокском  в графе "1 РОССИЙСКИЙ РУБЛЬ"
   * Для модели добавляем столбцы: 
     - "KZT (1 RUB)" из столбца "RUB" из выгрузки
     - Рассчетный столбец "Изменчивость, %" - на основании изменения цены предыдщего дня к текущему ([Референс](https://ru.investing.com/currencies/usd-kzt-historical-data) - столбец "Изм.%")


### 4. Основные задачи разработчика

#### 4.1. Сбор данных

* Реализовать **парсер**:

  * для выгрузки котировок с Investing.com;
  * для сбора новостей с Kapital.kz (заголовок, текст, дата, ссылка).
* Сохранение данных в формате **CSV или SQLite**.

#### 4.2. Предобработка данных

* Для валютных данных:

  * конвертировать даты к единому формату;
  * удалить пропуски и дубликаты;
  * рассчитать дополнительные признаки (разница, процент изменения, скользящее среднее и т. п.).
* Для текстов новостей:

  * удалить стоп-слова, знаки препинания;
  * привести слова к нормальной форме (лемматизация);
  * провести анализ **тональности текста** (позитивная / нейтральная / негативная);
  * при необходимости — определить ключевые слова и темы.

#### 4.3. Объединение данных

* Объединить датасеты по дате:

  * каждой дате валютного курса сопоставляется усреднённая **тональность новостного потока за этот день**;
  * при отсутствии новостей — использовать предыдущую известную тональность.

#### 4.4. Построение и обучение моделей

* Разделить данные на **train/test** выборки.
* Обучить несколько моделей для прогнозирования курса на **следующий день**:

  * Linear Regression (базовая модель);
  * Random Forest или XGBoost (улучшенная);
  * LSTM или GRU (нейросеть для временных рядов).
* Входные признаки:

  * исторические значения курса;
  * процент изменения за n предыдущих дней;
  * показатели новостной тональности.

#### 4.5. Оценка моделей

* Метрики:

  * MAE (средняя абсолютная ошибка),
  * RMSE (корень среднеквадратичной ошибки),
  * R² (коэффициент детерминации).
* Визуализация:

  * график реальных и предсказанных значений;
  * распределение ошибок.

#### 4.6. Интерпретация результатов

* Сформировать **аналитическую панель (или отчет)**, где:

  * показан прогноз на следующий день;
  * отмечено, в какую сторону ожидается движение курса (рост / падение);
  * выдана **рекомендация**:

    * «при прогнозе укрепления тенге — рекомендуется активизировать импорт»;
    * «при прогнозе ослабления тенге — увеличить экспорт».

---

### 5. Дополнительные задачи (опционально)

* Реализовать визуальный интерфейс (например, с использованием Streamlit), где пользователь может:

  * увидеть графики курса;
  * выбрать диапазон дат;
  * запустить обновление прогноза;
  * просмотреть новости, оказавшие наибольшее влияние.

---

### 6. Используемые технологии

* **Язык:** Python
* **Библиотеки:**

  * `pandas`, `numpy` — обработка данных
  * `requests`, `BeautifulSoup4` — парсинг сайтов
  * `matplotlib`, `seaborn`, `plotly` — визуализация
  * `scikit-learn`, `xgboost`, `keras`/`tensorflow` — машинное обучение
  * `nltk`, `spacy`, `pymorphy2` — обработка текста и тональности

---

### 7. Формат выходных данных

* CSV-файлы с собранными и обработанными данными;
* Jupyter Notebook или Python-скрипты с обучением моделей;
* визуализации в виде PNG/HTML-графиков;
* отчет с описанием моделей, точностью прогнозов и выводами.

---

### 8. Ожидаемый результат

* Автоматизированная система, которая:

  1. ежедневно обновляет данные;
  2. анализирует новости и курс валюты;
  3. строит прогноз на следующий день;
  4. формирует рекомендации для внешнеторговых решений (импорт/экспорт);
  5. сохраняет прогнозы в базе и отображает графически.

---

Хочешь, я сделаю к этому ТЗ пример **структуры проекта (папки, файлы, названия скриптов)**, чтобы разработчик мог сразу развернуть рабочее окружение?
